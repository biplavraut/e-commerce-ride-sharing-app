(window.webpackJsonp=window.webpackJsonp||[]).push([[87],{290:function(t,s,a){var e={"./af":99,"./af.js":99,"./ar":100,"./ar-dz":101,"./ar-dz.js":101,"./ar-kw":102,"./ar-kw.js":102,"./ar-ly":103,"./ar-ly.js":103,"./ar-ma":104,"./ar-ma.js":104,"./ar-sa":105,"./ar-sa.js":105,"./ar-tn":106,"./ar-tn.js":106,"./ar.js":100,"./az":107,"./az.js":107,"./be":108,"./be.js":108,"./bg":109,"./bg.js":109,"./bm":110,"./bm.js":110,"./bn":111,"./bn.js":111,"./bo":112,"./bo.js":112,"./br":113,"./br.js":113,"./bs":114,"./bs.js":114,"./ca":115,"./ca.js":115,"./cs":116,"./cs.js":116,"./cv":117,"./cv.js":117,"./cy":118,"./cy.js":118,"./da":119,"./da.js":119,"./de":120,"./de-at":121,"./de-at.js":121,"./de-ch":122,"./de-ch.js":122,"./de.js":120,"./dv":123,"./dv.js":123,"./el":124,"./el.js":124,"./en-SG":125,"./en-SG.js":125,"./en-au":126,"./en-au.js":126,"./en-ca":127,"./en-ca.js":127,"./en-gb":128,"./en-gb.js":128,"./en-ie":129,"./en-ie.js":129,"./en-il":130,"./en-il.js":130,"./en-nz":131,"./en-nz.js":131,"./eo":132,"./eo.js":132,"./es":133,"./es-do":134,"./es-do.js":134,"./es-us":135,"./es-us.js":135,"./es.js":133,"./et":136,"./et.js":136,"./eu":137,"./eu.js":137,"./fa":138,"./fa.js":138,"./fi":139,"./fi.js":139,"./fo":140,"./fo.js":140,"./fr":141,"./fr-ca":142,"./fr-ca.js":142,"./fr-ch":143,"./fr-ch.js":143,"./fr.js":141,"./fy":144,"./fy.js":144,"./ga":145,"./ga.js":145,"./gd":146,"./gd.js":146,"./gl":147,"./gl.js":147,"./gom-latn":148,"./gom-latn.js":148,"./gu":149,"./gu.js":149,"./he":150,"./he.js":150,"./hi":151,"./hi.js":151,"./hr":152,"./hr.js":152,"./hu":153,"./hu.js":153,"./hy-am":154,"./hy-am.js":154,"./id":155,"./id.js":155,"./is":156,"./is.js":156,"./it":157,"./it-ch":158,"./it-ch.js":158,"./it.js":157,"./ja":159,"./ja.js":159,"./jv":160,"./jv.js":160,"./ka":161,"./ka.js":161,"./kk":162,"./kk.js":162,"./km":163,"./km.js":163,"./kn":164,"./kn.js":164,"./ko":165,"./ko.js":165,"./ku":166,"./ku.js":166,"./ky":167,"./ky.js":167,"./lb":168,"./lb.js":168,"./lo":169,"./lo.js":169,"./lt":170,"./lt.js":170,"./lv":171,"./lv.js":171,"./me":172,"./me.js":172,"./mi":173,"./mi.js":173,"./mk":174,"./mk.js":174,"./ml":175,"./ml.js":175,"./mn":176,"./mn.js":176,"./mr":177,"./mr.js":177,"./ms":178,"./ms-my":179,"./ms-my.js":179,"./ms.js":178,"./mt":180,"./mt.js":180,"./my":181,"./my.js":181,"./nb":182,"./nb.js":182,"./ne":183,"./ne.js":183,"./nl":184,"./nl-be":185,"./nl-be.js":185,"./nl.js":184,"./nn":186,"./nn.js":186,"./pa-in":187,"./pa-in.js":187,"./pl":188,"./pl.js":188,"./pt":189,"./pt-br":190,"./pt-br.js":190,"./pt.js":189,"./ro":191,"./ro.js":191,"./ru":192,"./ru.js":192,"./sd":193,"./sd.js":193,"./se":194,"./se.js":194,"./si":195,"./si.js":195,"./sk":196,"./sk.js":196,"./sl":197,"./sl.js":197,"./sq":198,"./sq.js":198,"./sr":199,"./sr-cyrl":200,"./sr-cyrl.js":200,"./sr.js":199,"./ss":201,"./ss.js":201,"./sv":202,"./sv.js":202,"./sw":203,"./sw.js":203,"./ta":204,"./ta.js":204,"./te":205,"./te.js":205,"./tet":206,"./tet.js":206,"./tg":207,"./tg.js":207,"./th":208,"./th.js":208,"./tl-ph":209,"./tl-ph.js":209,"./tlh":210,"./tlh.js":210,"./tr":211,"./tr.js":211,"./tzl":212,"./tzl.js":212,"./tzm":213,"./tzm-latn":214,"./tzm-latn.js":214,"./tzm.js":213,"./ug-cn":215,"./ug-cn.js":215,"./uk":216,"./uk.js":216,"./ur":217,"./ur.js":217,"./uz":218,"./uz-latn":219,"./uz-latn.js":219,"./uz.js":218,"./vi":220,"./vi.js":220,"./x-pseudo":221,"./x-pseudo.js":221,"./yo":222,"./yo.js":222,"./zh-cn":223,"./zh-cn.js":223,"./zh-hk":224,"./zh-hk.js":224,"./zh-tw":225,"./zh-tw.js":225};function n(t){var s=o(t);return a(s)}function o(t){if(!a.o(e,t)){var s=new Error("Cannot find module '"+t+"'");throw s.code="MODULE_NOT_FOUND",s}return e[t]}n.keys=function(){return Object.keys(e)},n.resolve=o,t.exports=n,n.id=290},518:function(t,s,a){var e=a(579);"string"==typeof e&&(e=[[t.i,e,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};a(9)(e,n);e.locals&&(t.exports=e.locals)},578:function(t,s,a){"use strict";var e=a(518);a.n(e).a},579:function(t,s,a){(t.exports=a(8)(!1)).push([t.i,"\n.cursor[data-v-499e3362] {\n  cursor: pointer;\n}\n",""])},654:function(t,s,a){"use strict";a.r(s);var e=a(3),n=a(2),o=a.n(n),r={name:"VendorSettlement",data:function(){return{idx:"",data:[],columns:["S.N","Vendor","Settle Range","Orders","Order Total","GoGo Total","Advance Balance","To Pay","Last Settled On","Action"],form:new e.a({vendor_id:"",vendor_business_name:"",amount:"",remarks:"",vendor_adv_amount:""}),filter:"7-days",addfund:!1}},methods:{formatDate:function(t){return o()(t).format("LL")},loadFilterData:function(t){this.filter=t,this.getData()},vendorSettlement:function(t){if(t.gogoTotal>0){this.addfund=!1,this.form.reset(),this.form.vendor_id=t.vendorId,this.form.amount=t.gogoTotal,this.form.vendor_adv_amount=t.vendoAdvanceBalance,this.form.vendor_business_name=t.businessName;var s=$("#addNewModel").modal();s.find(".modal-title").text("Settle Vendor: Payable Amount");var a=t.gogoTotal-t.vendoAdvanceBalance;if(a>0)var e="Note: You have to pay Rs. "+a+" to settle "+t.totalOrders+" orders worth Rs. "+t.gogoTotal+" including advance balance of Rs. "+t.vendoAdvanceBalance;else e="Note:"+t.totalOrders+" orders worth Rs. "+t.gogoTotal+" will be settled from advance balance of Rs. "+t.vendoAdvanceBalance;s.find(".modal-note").text(e),s.find(".modal-body #amount_to_settle").text(t.gogoTotal).show(),s.find(".modal-body #amount").attr("disabled","disabled").hide(),s.find(".modal-body #vendor_business_name").attr("disabled","disabled"),s.show()}else swal("Nothing to Settle: Add Fund to Make Advance Payment")},addMoreFund:function(t,s){this.addfund=!0,this.form.reset(),this.form.vendor_id=t,this.form.vendor_business_name=s;var a=$("#addNewModel").modal();a.find(".modal-title").text("Add Advance Settlement Fund"),a.find(".modal-body #amount_to_settle").hide(),a.find(".modal-body #amount").attr("disabled",!1).show(),a.find(".modal-body #vendor_business_name").attr("disabled","disabled"),a.show()},addData:function(){var t=this;swal({title:"Are you sure?",text:"Once Added, you will not be able to revert the amount!",icon:"warning",buttons:["Cancle!","Proceed!"],dangerMode:!0}).then((function(s){if(s){if(!(t.form.amount&&t.form.vendor_id&&t.form.remarks))throw swal("Invalid Input"),null;if($("#modelClose").click(),t.addfund)var a="/admin/vendor-advance-settlement/add";else a="/admin/vendor-settle/update";t.form.post(a).then((function(s){s.status?(alertMessage(s.message),t.getData(),t.form.reset()):alertMessage("Action cannot be processed.","danger")})),swal.stopLoading(),swal.close()}}))},toPay:function(t){var s=t.gogoTotal-t.vendoAdvanceBalance;return s>=0?"<span class='text-success'>Rs "+s+"</span>":"<span class='text-danger'>-Rs "+-1*s+"</span>"},getData:function(){var t=this;this.data=[],axios.get("/admin/vendor-settle/"+this.filter).then((function(s){t.data=s.data.data}))}},created:function(){this.getData()},mounted:function(){},computed:{},watch:{}},d=(a(578),a(1)),l=Object(d.a)(r,(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",[a("div",{staticStyle:{"margin-bottom":"10px",display:"flex"}},[a("ul",{staticClass:"nav nav-pills nav-pills-warning"},[a("li",{class:"7-days"===t.filter?"active":"nav-item"},[a("a",{staticClass:"nav-link",attrs:{href:"#"},on:{click:function(s){return t.loadFilterData("7-days")}}},[t._v("7 Days ")])]),t._v(" "),a("li",{class:"15-days"===t.filter?"active":"nav-item"},[a("a",{staticClass:"nav-link",attrs:{href:"#"},on:{click:function(s){return t.loadFilterData("15-days")}}},[t._v("15 Days ")])]),t._v(" "),a("li",{class:"30-days"===t.filter?"active":"nav-item"},[a("a",{staticClass:"nav-link",attrs:{href:"#"},on:{click:function(s){return t.loadFilterData("30-days")}}},[t._v("30 Days ")])])])]),t._v(" "),a("app-card",{attrs:{title:"All <b>Vendors to Settle</b>","body-padding":"0"}},[a("template",{slot:"actions"},[a("app-btn-link",{attrs:{background:"primary",icon:"done","route-name":"vendor.settled"}},[t._v("SETTLED LIST\n    ")]),t._v(" "),a("app-btn-link",{attrs:{background:"success",icon:"view_list","route-name":"settlement.advancesettlement"}},[t._v("Advance Settlement List")])],1),t._v(" "),a("div",{staticClass:"table-responsive",staticStyle:{overflow:"scroll !important"}},[a("table",{staticClass:"table",staticStyle:{"margin-bottom":"0"}},[a("thead",[a("tr",t._l(t.columns,(function(s,e){return a("th",{key:e},[t._v("\n              "+t._s(s)+"\n            ")])})),0)]),t._v(" "),a("tbody",t._l(t.data,(function(s,e){return a("tr",{key:e},[a("td",[t._v(t._s(++e))]),t._v(" "),a("td",[t._v("\n              "+t._s(s.businessName)+"\n              "),a("span",{attrs:{title:"Full Name"}},[t._v("("+t._s(s.fullName)+")")]),t._v(" "),a("br"),t._v(" "),a("span",{staticClass:"badge"},[t._v(t._s(s.phone))]),t._v(" /\n              "),a("span",{staticClass:"badge"},[t._v(t._s(s.email))])]),t._v(" "),a("td",[a("br"),t._v("\n              "+t._s(s.settlementTime)+" Days\n            ")]),t._v(" "),a("td",[t._v("\n              "+t._s(t._f("commaNumberFormat")(s.totalOrders))+"\n            ")]),t._v(" "),a("td",{attrs:{title:"OrderTotal"}},[t._v("\n              Rs.\n              "+t._s(t._f("commaNumberFormat")(s.orderTotal))+"\n            ")]),t._v(" "),a("td",{attrs:{title:"GoGoTotal"}},[t._v("\n              Rs.\n              "+t._s(t._f("commaNumberFormat")(s.gogoTotal))+"\n            ")]),t._v(" "),a("td",[t._v("\n              Rs.\n              "+t._s(t._f("commaNumberFormat")(s.vendoAdvanceBalance))+"\n            ")]),t._v(" "),a("td",[a("span",{domProps:{innerHTML:t._s(t.toPay(s))}})]),t._v(" "),a("td",{attrs:{width:"10%"}},[t._v("\n              "+t._s(s.lastSettledOn)+"\n            ")]),t._v(" "),a("td",[a("button",{staticClass:"btn btn-warning btn-ajax btn-link",attrs:{title:"Settle Now"},on:{click:function(a){return a.preventDefault(),t.vendorSettlement(s)}}},[a("i",{staticClass:"material-icons"},[t._v("done ")]),t._v(" Settle\n              ")]),t._v(" "),a("button",{staticClass:"btn btn-success btn-ajax btn-link",attrs:{title:"Add Advance Payment"},on:{click:function(a){return a.preventDefault(),t.addMoreFund(s.vendorId,s.businessName)}}},[a("i",{staticClass:"material-icons"},[t._v("add ")]),t._v(" Add Fund\n              ")])])])})),0)])])],2),t._v(" "),a("div",{staticClass:"modal fade",attrs:{id:"addNewModel",tabindex:"-1",role:"dialog","aria-labelledby":"addNewModelModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-dialog-centered",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(0),t._v(" "),a("div",{staticClass:"modal-body"},[a("form",[a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-form-label",attrs:{for:"vendor_title"}},[t._v("Vendor*")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.vendor_business_name,expression:"form.vendor_business_name"}],staticClass:"form-control",attrs:{type:"text",id:"vendor_business_name",required:""},domProps:{value:t.form.vendor_business_name},on:{input:function(s){s.target.composing||t.$set(t.form,"vendor_business_name",s.target.value)}}})]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-form-label",attrs:{for:"amount"}},[t._v("Amount*")]),t._v(" "),a("span",{attrs:{id:"amount_to_settle"}}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.amount,expression:"form.amount"}],staticClass:"form-control",attrs:{type:"number",id:"amount",min:"0",required:""},domProps:{value:t.form.amount},on:{input:function(s){s.target.composing||t.$set(t.form,"amount",s.target.value)}}})])]),t._v(" "),a("div",{staticClass:"col"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-form-label",attrs:{for:"remarks"}},[t._v("Remarks*")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.remarks,expression:"form.remarks"}],staticClass:"form-control",attrs:{type:"text",id:"remarks",required:""},domProps:{value:t.form.remarks},on:{input:function(s){s.target.composing||t.$set(t.form,"remarks",s.target.value)}}})])]),t._v(" "),t._m(1)]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.vendor_id,expression:"form.vendor_id"}],attrs:{type:"hidden",id:"vendor-id",name:"vendor_id",value:""},domProps:{value:t.form.vendor_id},on:{input:function(s){s.target.composing||t.$set(t.form,"vendor_id",s.target.value)}}})])]),t._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Cancel")]),t._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(s){return t.addData()}}},[t._v("Save")])])])])])],1)}),[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"modal-header"},[s("button",{staticClass:"close",attrs:{type:"button",id:"modelClose","data-dismiss":"modal","aria-label":"Close"}},[s("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])]),this._v(" "),s("h5",{staticClass:"modal-title",attrs:{id:"addNewModelModalLabel"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("small",{staticClass:"modal-note"})])}],!1,null,"499e3362",null);s.default=l.exports}}]);
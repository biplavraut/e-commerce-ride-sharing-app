(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{201:function(t,e,r){var n={"./af":42,"./af.js":42,"./ar":43,"./ar-dz":44,"./ar-dz.js":44,"./ar-kw":45,"./ar-kw.js":45,"./ar-ly":46,"./ar-ly.js":46,"./ar-ma":47,"./ar-ma.js":47,"./ar-sa":48,"./ar-sa.js":48,"./ar-tn":49,"./ar-tn.js":49,"./ar.js":43,"./az":50,"./az.js":50,"./be":51,"./be.js":51,"./bg":52,"./bg.js":52,"./bm":53,"./bm.js":53,"./bn":54,"./bn.js":54,"./bo":55,"./bo.js":55,"./br":56,"./br.js":56,"./bs":57,"./bs.js":57,"./ca":58,"./ca.js":58,"./cs":59,"./cs.js":59,"./cv":60,"./cv.js":60,"./cy":61,"./cy.js":61,"./da":62,"./da.js":62,"./de":63,"./de-at":64,"./de-at.js":64,"./de-ch":65,"./de-ch.js":65,"./de.js":63,"./dv":66,"./dv.js":66,"./el":67,"./el.js":67,"./en-SG":68,"./en-SG.js":68,"./en-au":69,"./en-au.js":69,"./en-ca":70,"./en-ca.js":70,"./en-gb":71,"./en-gb.js":71,"./en-ie":72,"./en-ie.js":72,"./en-il":73,"./en-il.js":73,"./en-nz":74,"./en-nz.js":74,"./eo":75,"./eo.js":75,"./es":76,"./es-do":77,"./es-do.js":77,"./es-us":78,"./es-us.js":78,"./es.js":76,"./et":79,"./et.js":79,"./eu":80,"./eu.js":80,"./fa":81,"./fa.js":81,"./fi":82,"./fi.js":82,"./fo":83,"./fo.js":83,"./fr":84,"./fr-ca":85,"./fr-ca.js":85,"./fr-ch":86,"./fr-ch.js":86,"./fr.js":84,"./fy":87,"./fy.js":87,"./ga":88,"./ga.js":88,"./gd":89,"./gd.js":89,"./gl":90,"./gl.js":90,"./gom-latn":91,"./gom-latn.js":91,"./gu":92,"./gu.js":92,"./he":93,"./he.js":93,"./hi":94,"./hi.js":94,"./hr":95,"./hr.js":95,"./hu":96,"./hu.js":96,"./hy-am":97,"./hy-am.js":97,"./id":98,"./id.js":98,"./is":99,"./is.js":99,"./it":100,"./it-ch":101,"./it-ch.js":101,"./it.js":100,"./ja":102,"./ja.js":102,"./jv":103,"./jv.js":103,"./ka":104,"./ka.js":104,"./kk":105,"./kk.js":105,"./km":106,"./km.js":106,"./kn":107,"./kn.js":107,"./ko":108,"./ko.js":108,"./ku":109,"./ku.js":109,"./ky":110,"./ky.js":110,"./lb":111,"./lb.js":111,"./lo":112,"./lo.js":112,"./lt":113,"./lt.js":113,"./lv":114,"./lv.js":114,"./me":115,"./me.js":115,"./mi":116,"./mi.js":116,"./mk":117,"./mk.js":117,"./ml":118,"./ml.js":118,"./mn":119,"./mn.js":119,"./mr":120,"./mr.js":120,"./ms":121,"./ms-my":122,"./ms-my.js":122,"./ms.js":121,"./mt":123,"./mt.js":123,"./my":124,"./my.js":124,"./nb":125,"./nb.js":125,"./ne":126,"./ne.js":126,"./nl":127,"./nl-be":128,"./nl-be.js":128,"./nl.js":127,"./nn":129,"./nn.js":129,"./pa-in":130,"./pa-in.js":130,"./pl":131,"./pl.js":131,"./pt":132,"./pt-br":133,"./pt-br.js":133,"./pt.js":132,"./ro":134,"./ro.js":134,"./ru":135,"./ru.js":135,"./sd":136,"./sd.js":136,"./se":137,"./se.js":137,"./si":138,"./si.js":138,"./sk":139,"./sk.js":139,"./sl":140,"./sl.js":140,"./sq":141,"./sq.js":141,"./sr":142,"./sr-cyrl":143,"./sr-cyrl.js":143,"./sr.js":142,"./ss":144,"./ss.js":144,"./sv":145,"./sv.js":145,"./sw":146,"./sw.js":146,"./ta":147,"./ta.js":147,"./te":148,"./te.js":148,"./tet":149,"./tet.js":149,"./tg":150,"./tg.js":150,"./th":151,"./th.js":151,"./tl-ph":152,"./tl-ph.js":152,"./tlh":153,"./tlh.js":153,"./tr":154,"./tr.js":154,"./tzl":155,"./tzl.js":155,"./tzm":156,"./tzm-latn":157,"./tzm-latn.js":157,"./tzm.js":156,"./ug-cn":158,"./ug-cn.js":158,"./uk":159,"./uk.js":159,"./ur":160,"./ur.js":160,"./uz":161,"./uz-latn":162,"./uz-latn.js":162,"./uz.js":161,"./vi":163,"./vi.js":163,"./x-pseudo":164,"./x-pseudo.js":164,"./yo":165,"./yo.js":165,"./zh-cn":166,"./zh-cn.js":166,"./zh-hk":167,"./zh-hk.js":167,"./zh-tw":168,"./zh-tw.js":168};function s(t){var e=a(t);return r(e)}function a(t){if(!r.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}s.keys=function(){return Object.keys(n)},s.resolve=a,t.exports=s,s.id=201},204:function(t,e,r){"use strict";r.r(e);var n=r(2),s=r.n(n),a=r(333),i=r(0),o=r.n(i),c=r(169),l=r(7),u=r(9),d=r.n(u);function f(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function p(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function v(t,e,r,n,s,a,i){try{var o=t[a](i),c=o.value}catch(t){return void r(t)}o.done?e(c):Promise.resolve(c).then(n,s)}function b(t){return function(){var e=this,r=arguments;return new Promise((function(n,s){var a=t.apply(e,r);function i(t){v(a,n,s,i,o,"next",t)}function o(t){v(a,n,s,i,o,"throw",t)}i(void 0)}))}}var j={name:"OrdersIndex",mixins:[c.b,c.a],data:function(){return{rows:{data:[],links:{},meta:{}},title:"All <b>Orders</b>",columns:["#","Order No.","Ordered By","Special Instruction","Products","Size/Color","Price","Ordered On"],orders:[],model:new a.a,expandableOrder:{},expandStatus:!1,itemCol:["Image","Title","Price","Quantiy","Color / Size","Actions"]}},methods:{formatDate:function(t){return o()(t).format("LL")},acceptOrder:function(t){var e=this;d.a.get(this.model.indexUrl+"/accept-order?orderId="+t).then((function(r){"success"==r.data?(e.rows.data=e.rows.data.filter((function(e){return e.id!==t})),alertMessage("Order has been verified.")):alertMessage("Item cannot be verified.","danger")}))},getAcceptedOrders:function(){var t=this;return b(s.a.mark((function e(){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.model.getAcceptedOrder();case 2:r=e.sent,t.rows=r;case 4:case"end":return e.stop()}}),e)})))()},reset:function(){var t=this;return b(s.a.mark((function e(){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.model.getAll();case 2:r=e.sent,t.rows=r,t.expandStatus=!1,t.expandableOrder={},t.title="All <b>Orders</b>";case 7:case"end":return e.stop()}}),e)})))()},cancelOrder:function(t){var e=this;swal({text:"Cancellation Reason",content:"input",button:{text:"Submit!",closeModal:!1}}).then((function(r){if(!r||r.length<5)return swal("Oh noes!","Write complete reason!","error");d.a.get(e.model.indexUrl+"/cancel-order?orderId="+t+"&reason="+r).then((function(r){"success"==r.data?(e.rows.data=e.rows.data.filter((function(e){return e.id!==t})),alertMessage("Order has been cancelled.")):alertMessage("Order cannot be cancelled right now.","danger")})),swal.stopLoading(),swal.close()}))},expandOrder:function(t){this.expandStatus=!0,this.expandableOrder=t,this.title="Ref #<b>"+t.refNumber+"</b>"},deleteItem:function(t){var e=this;confirm("Are you sure want to process this action?")&&d.a.get(this.model.indexUrl+"/delete-item?itemId="+t+"&orderId="+this.expandableOrder.id).then((function(r){"success"==r.data?(e.expandableOrder.items=e.expandableOrder.items.filter((function(e){return e.id!==t})),alertMessage("Order Item has been deleted.")):alertMessage("Item cannot be deleted.","danger")}))},updateItemQuantity:function(t,e){"+"===e?t.quantity++:t.quantity--,d.a.get(this.model.indexUrl+"/update-item?itemId="+t.id+"&orderId="+this.expandableOrder.id+"&quantity="+t.quantity).then((function(t){"success"==t.data?alertMessage("Item Quantity updated."):alertMessage("Item Quantity cannot updated.","danger")}))},copyOrderNo:function(t){var e=document.createElement("textarea");document.body.appendChild(e),e.value=t,e.select(),document.execCommand("copy"),document.body.removeChild(e),alertMessage("Order no copied to clipboard.")},verifyOtp:function(t){var e=this;confirm("Are you sure? You cannot undo this action.")&&swal({text:"Enter 4 Digit OTP given by delivery rider.",content:"input",button:{text:"Submit!",closeModal:!1}}).then((function(r){if(!r||r.length<4)return swal("Oh noes!","Please enter 4 digit otp to continue!","error");if(r!=t.delivery.otp)return swal("Oh noes!","OTP doesnot match. Try again!","error");var n=e.rows.data.indexOf(t);n>-1&&e.rows.data.splice(n,1),swal("Success!","OTP matched successfully. Now you can give delivery items to delivery rider.","success"),swal.stopLoading(),swal.close()}))}},created:function(){this.getModels()},mounted:function(){},computed:function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?f(Object(r),!0).forEach((function(e){p(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},Object(l.mapGetters)(["authUser"])),watch:{}},m=(r(342),r(1)),y=Object(m.a)(j,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("app-card",{attrs:{title:t.title,"body-padding":"0"}},[t.expandStatus?r("template",{slot:"actions"},[r("a",{staticClass:"btn btn-round btn-xs title-right-action1 btn-success",attrs:{href:"#",title:"Go Back"},on:{click:t.reset}},[r("i",{staticClass:"material-icons"},[t._v("reply")])])]):t._e(),t._v(" "),t.expandStatus?t._e():r("button",{staticClass:"btn btn-round btn-xs title-right-action",attrs:{title:"Refresh"},on:{click:t.getAcceptedOrders}},[r("i",{staticClass:"material-icons"},[t._v("assignment")]),t._v("\n    Accepted Orders\n  ")]),t._v(" "),t.expandStatus?t._e():r("button",{staticClass:"btn btn-round btn-xs title-right-action",attrs:{title:"Refresh"},on:{click:t.reset}},[r("i",{staticClass:"material-icons"},[t._v("refresh")]),t._v("\n    Reset\n  ")]),t._v(" "),t.expandStatus?t._e():r("app-table-sortable",{attrs:{columns:t.columns,rows:t.rows,paginate:!0,searchUrl:"/vendor/order/get-data?name="},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[r("td",{attrs:{title:"Order Number"}},[t._v("\n        "+t._s(n.refNumber)+" "),r("br"),t._v(" "),n.delivery?r("small",[n.delivery.driver?r("span",{staticClass:"badge",attrs:{title:"Accepted by"}},[t._v("\n            Rider: "+t._s(n.delivery.driver.firstName)+"\n            "+t._s(n.delivery.driver.lastName)+" ("+t._s(n.delivery.driver.phone)+")")]):t._e()]):t._e()]),t._v(" "),r("td",{staticClass:"cursor",on:{click:function(e){return t.copyOrderNo(n.orderNo)}}},[t._v("\n        "+t._s(n.orderNo)+" "),r("br"),t._v(" "),n.takeaway?r("span",{staticClass:"badge",style:{background:n.dynamicColor}},[t._v("takeaway")]):t._e()]),t._v(" "),r("td",{attrs:{title:"Ordered By"}},[t._v("\n        "+t._s(n.order_by)+" "),r("br")]),t._v(" "),r("td",[t._v("\n        "+t._s(n.specialInstruction?n.specialInstruction:"-")+"\n      ")]),t._v(" "),r("td",[r("ul",t._l(n.items,(function(e,n){return r("li",{key:n,attrs:{title:"Rs. "+e.price}},[t._v("\n            "+t._s(e.name)+"\n            "),r("span",{staticClass:"badge"},[t._v(t._s(e.product.code)+" ")]),t._v("\n            ("+t._s(e.quantity)+")\n          ")])})),0)]),t._v(" "),r("td",[r("ul",t._l(n.items,(function(e){return r("li",{key:e.id},[e.size?r("span",{staticClass:"badge"},[t._v(t._s(e.size))]):t._e(),t._v(" "),e.size?r("span",[t._v("/")]):t._e(),t._v(" "),e.color?r("span",{staticClass:"badge"},[t._v(t._s(e.color))]):t._e()])})),0)]),t._v(" "),r("td",[t._v("Rs. "+t._s(n.total))]),t._v(" "),r("td",[t._v("\n        "+t._s(t.formatDate(n.ordered_on))+"\n      ")]),t._v(" "),n.accepted?t._e():r("td",[r("button",{staticClass:"btn btn-warning btn-ajax",attrs:{type:"button",title:"Accept"},on:{click:function(e){return e.preventDefault(),t.acceptOrder(n.id)}}},[r("i",{staticClass:"material-icons"},[t._v("done")]),t._v(" "),r("div",{staticClass:"ripple-container"})]),t._v(" "),r("button",{staticClass:"btn btn-danger btn-ajax",attrs:{type:"button",title:"Cancel Order"},on:{click:function(e){return e.preventDefault(),t.cancelOrder(n.id)}}},[r("i",{staticClass:"material-icons"},[t._v("cancel")]),t._v(" "),r("div",{staticClass:"ripple-container"})]),t._v(" "),r("button",{staticClass:"btn btn-success btn-ajax",attrs:{type:"button",title:"Expand Order"},on:{click:function(e){return e.preventDefault(),t.expandOrder(n)}}},[r("i",{staticClass:"material-icons"},[t._v("expand")]),t._v(" "),r("div",{staticClass:"ripple-container"})])]),t._v(" "),n.accepted?r("td",{attrs:{width:"100"}},[r("button",{staticClass:"btn btn-success btn-ajax",attrs:{type:"button",title:"Verify OTP with Delivery Rider"},on:{click:function(e){return e.preventDefault(),t.verifyOtp(n)}}},[r("i",{staticClass:"material-icons"},[t._v("done")]),t._v(" "),r("div",{staticClass:"ripple-container"})])]):t._e()]}}],null,!1,2120118789)}),t._v(" "),t.expandStatus?r("div",{staticClass:"table-responsive",staticStyle:{overflow:"scroll !important"}},[r("table",{staticClass:"table table-hover"},[r("thead",[r("tr",[r("th",[t._v("S.N.")]),t._v(" "),t._l(t.itemCol,(function(e,n){return r("th",{key:n},[t._v("\n            "+t._s(e)+"\n          ")])}))],2)]),t._v(" "),r("tbody",t._l(t.expandableOrder.items,(function(e,n){return r("tr",{key:n},[r("td",[t._v(t._s(++n))]),t._v(" "),r("td",{attrs:{width:"100"}},[r("img",{staticStyle:{width:"50px",height:"50px","border-radius":"50%"},attrs:{src:e.product.image50}})]),t._v(" "),r("td",{staticStyle:{"font-weight":"bold"}},[t._v(t._s(e.product.title))]),t._v(" "),r("td",[t._v("Rs. "+t._s(e.price))]),t._v(" "),r("td",{staticStyle:{"font-weight":"bold"}},[r("a",{attrs:{href:"#",title:"Increase Ordere Item Quantity"},on:{click:function(r){return r.preventDefault(),t.updateItemQuantity(e,"+")}}},[r("span",{staticClass:"material-icons"},[t._v(" add_circle ")])]),t._v("\n            "+t._s(e.quantity)+"\n            "),e.quantity>1?r("a",{attrs:{href:"#",title:"Decrease Ordere Item Quantity"},on:{click:function(r){return r.preventDefault(),t.updateItemQuantity(e,"-")}}},[r("span",{staticClass:"material-icons"},[t._v(" remove_circle ")])]):t._e()]),t._v(" "),r("td",[t._v(t._s(e.color)+" / "+t._s(e.size))]),t._v(" "),r("td",{attrs:{width:"100"}},[t.expandableOrder.items.length>1?r("button",{staticClass:"btn btn-danger btn-ajax",attrs:{type:"button",title:"Delete Order Item"},on:{click:function(r){return r.preventDefault(),t.deleteItem(e.id)}}},[r("i",{staticClass:"material-icons"},[t._v("delete_forever")]),t._v(" "),r("div",{staticClass:"ripple-container"})]):t._e()])])})),0)])]):t._e()],2)}),[],!1,null,"f8fba786",null);e.default=y.exports},333:function(t,e,r){"use strict";r.d(e,"a",(function(){return f}));var n=r(20),s=r(10),a=r(3);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=d(t);if(e){var s=d(this).constructor;r=Reflect.construct(n,arguments,s)}else r=n.apply(this,arguments);return u(this,r)}}function u(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var f=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(u,t);var e,r,n,i=l(u);function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,t)).indexUrl=s.f,e.namePlural="orders",e}return e=u,(r=[{key:"getAll",value:function(){return a.a.get(this.indexUrl)}},{key:"getAcceptedOrder",value:function(){return a.a.get(this.indexUrl+"/accepted-order")}},{key:"getTakeawayList",value:function(){return a.a.get(this.indexUrl+"/takeaway-list")}}])&&o(e.prototype,r),n&&o(e,n),u}(n.a)},334:function(t,e,r){var n=r(343);"string"==typeof n&&(n=[[t.i,n,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};r(5)(n,s);n.locals&&(t.exports=n.locals)},342:function(t,e,r){"use strict";var n=r(334);r.n(n).a},343:function(t,e,r){(t.exports=r(4)(!1)).push([t.i,"\n.cursor[data-v-f8fba786] {\n  cursor: pointer;\n}\n.title-right-action1[data-v-f8fba786] {\n  right: 15px;\n  top: 6px;\n  float: right;\n  margin-left: 10px;\n}\n",""])}}]);
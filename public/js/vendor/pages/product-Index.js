(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{205:function(t,e,o){"use strict";o.r(e);var n=o(195),a=o(169),r=o(7);function i(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function s(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?i(Object(o),!0).forEach((function(e){l(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):i(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function l(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var d={name:"VendorProductIndex",mixins:[a.b,a.a],data:function(){return{columns:["Image","Title","Category","Price","Verifed","Hidden"],rows:{data:[],links:{},meta:{}},model:new n.a,file:"",type:""}},methods:s(s({},Object(r.mapMutations)(["updateThisMonthProductsCount"])),{},{exportSheet:function(){confirm("Are you sure?")&&(window.location=this.model.indexUrl+"/excel-export")},submitFile:function(){var t=new FormData;t.append("import_file",this.file),t.append("type",this.type),axios.post(this.model.indexUrl+"/excel-import",t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(t){"success"==t.data.message?(swal({title:"Good Job!",text:"File has been imported successfully.",icon:"success"}),location.reload()):swal({title:"Awww!",text:t.data.message,icon:"error"})})).catch((function(){console.log("FAILURE!!")})),this.otherFields()},otherFields:function(){$("#import").modal("hide"),this.getModels()},handleFileUpload:function(){this.file=this.$refs.file.files[0]},downloadSample:function(){var t=window.location.origin+"/dashboard/excel-samples/";location.href=t+"Vendor Product Import.xlsx"},copy:function(t){var e=document.createElement("textarea");document.body.appendChild(e),e.value=t,e.select(),document.execCommand("copy"),document.body.removeChild(e),alertMessage("Title copied to clipboard.")}}),mounted:function(){this.getModels()},created:function(){},watch:{}},c=(o(348),o(1)),u=Object(c.a)(d,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("app-card",{attrs:{title:"All <b>Products</b>","body-padding":"0"}},[o("template",{slot:"actions"},[o("app-btn-link",{attrs:{"route-name":"product.create"}},[t._v("Add New")]),t._v(" "),o("app-btn",{attrs:{background:"warning",icon:"cloud_upload","data-toggle":"modal","data-target":"#import"}},[t._v("Import Excel")])],1),t._v(" "),o("app-table-sortable",{attrs:{columns:t.columns,rows:t.rows,paginate:!0,searchUrl:"/vendor/product/get-products?name="},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[o("td",{attrs:{width:"100"}},[o("img",{staticStyle:{width:"50px",height:"50px","border-radius":"50%"},attrs:{src:n.image50}})]),t._v(" "),o("td",{staticStyle:{cursor:"pointer"},attrs:{title:"Click to copy"},on:{click:function(e){return t.copy(n.title)}}},[t._v("\n        "+t._s(n.title)+" "),o("small",[t._v("( code: "+t._s(n.code)+")")])]),t._v(" "),o("td",[t._v("\n        "+t._s(n.category.name)+" (\n        "),o("small",[t._v(t._s(n.subCategory?n.subCategory.name+" >> ":"")+"\n          "+t._s(n.subChildCategory?n.subChildCategory.name:""))]),t._v("\n        )\n        "),n.update.id?o("code",[t._v("under approval")]):t._e()]),t._v(" "),o("td",[t._v(t._s(n.price))]),t._v(" "),o("td",[o("span",{staticClass:"badge"},[t._v(t._s(n.verified))])]),t._v(" "),o("td",[o("span",{staticClass:"badge badge-success"},[t._v(t._s(n.hide))])]),t._v(" "),o("td",{attrs:{width:"100"}},[o("app-actions",{attrs:{actions:{edit:{name:"product.edit",params:{id:n.id}},delete:n.id}},on:{deleteItem:t.deleteModel}})],1)]}}])}),t._v(" "),o("div",{staticClass:"modal fade",attrs:{id:"import",role:"dialog"}},[o("div",{staticClass:"modal-dialog"},[o("div",{staticClass:"modal-content"},[o("div",{staticClass:"modal-header"},[o("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal"}},[t._v("\n            Ã—\n          ")]),t._v(" "),o("h4",{staticClass:"modal-title"},[t._v("Import Product Excel")])]),t._v(" "),o("div",{staticClass:"modal-body"},[o("input",{ref:"file",staticClass:"btn btn-secondary",attrs:{type:"file",id:"file",name:"import_file"},on:{change:function(e){return t.handleFileUpload()}}}),t._v(" "),o("button",{staticClass:"btn btn-round btn-primary",attrs:{type:"submit"},on:{click:function(e){return t.submitFile()}}},[t._v("\n            Import\n          ")]),t._v(" "),o("button",{staticClass:"btn btn-sm btn-round btn-warning",attrs:{type:"button"},on:{click:function(e){return t.downloadSample()}}},[t._v("\n            Download Sample\n          ")])]),t._v(" "),o("div",{staticClass:"modal-footer"},[o("button",{staticClass:"btn btn-default",attrs:{type:"button","data-dismiss":"modal"}},[t._v("\n            Close\n          ")])])])])])],2)}),[],!1,null,"262e4b34",null);e.default=u.exports},337:function(t,e,o){var n=o(349);"string"==typeof n&&(n=[[t.i,n,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};o(5)(n,a);n.locals&&(t.exports=n.locals)},348:function(t,e,o){"use strict";var n=o(337);o.n(n).a},349:function(t,e,o){(t.exports=o(4)(!1)).push([t.i,"\n.card-title[data-v-262e4b34] {\n  padding: 10px 15px;\n  margin: 0;\n  font-weight: 400;\n  /* background-color : #337AB7; */\n  color: #666666;\n}\n",""])}}]);
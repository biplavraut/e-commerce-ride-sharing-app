(window.webpackJsonp=window.webpackJsonp||[]).push([[66],{355:function(t,a,n){"use strict";n.r(a);var e=n(278),o=n(4),i={name:"UnitIndex",mixins:[o.b,o.a],data:function(){return{columns:["Name","Category"],rows:{data:[],links:{},meta:{}},model:new e.a,file:""}},methods:{submitFile:function(){var t=new FormData;t.append("import_file",this.file),axios.post(this.model.indexUrl+"/excel-import",t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(){alertMessage("Unit Imported successfully.")})).catch((function(){console.log("FAILURE!!")})),this.otherFields()},otherFields:function(){$("#import").modal("hide"),this.getModels()},handleFileUpload:function(){this.file=this.$refs.file.files[0]},downloadSample:function(){var t=window.location.origin+"/dashboard/excel-samples/";location.href=t+"Unit Import.xlsx"}},mounted:function(){this.getModels()}},s=n(1),l=Object(s.a)(i,(function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("app-card",{attrs:{title:"All <b>Units</b>","body-padding":"0"}},[n("template",{slot:"actions"},[n("app-btn-link",{attrs:{"route-name":"unit.create"}},[t._v("Add New")]),t._v(" "),n("app-btn",{attrs:{background:"warning",icon:"cloud_upload","data-toggle":"modal","data-target":"#import"}},[t._v("Import Excel\n    ")])],1),t._v(" "),n("app-table-sortable",{attrs:{columns:t.columns,paginate:!0,rows:t.rows,searchUrl:"/admin/unit/get-data?name="},scopedSlots:t._u([{key:"default",fn:function(a){var e=a.row;return[n("td",[t._v(t._s(e.name))]),t._v(" "),n("td",[t._v(t._s(e.category.name))]),t._v(" "),n("td",{attrs:{width:"100"}},[n("app-actions",{attrs:{actions:{edit:{name:"unit.edit",params:{id:e.id}},delete:e.id}},on:{deleteItem:t.deleteModel}})],1)]}}])}),t._v(" "),n("div",{staticClass:"modal fade",attrs:{id:"import",role:"dialog"}},[n("div",{staticClass:"modal-dialog"},[n("div",{staticClass:"modal-content"},[n("div",{staticClass:"modal-header"},[n("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal"}},[t._v("\n            Ã—\n          ")]),t._v(" "),n("h4",{staticClass:"modal-title"},[t._v("Import Unit Excel")])]),t._v(" "),n("div",{staticClass:"modal-body"},[n("input",{ref:"file",staticClass:"btn btn-secondary",attrs:{type:"file",id:"file",name:"import_file"},on:{change:function(a){return t.handleFileUpload()}}}),t._v(" "),n("button",{staticClass:"btn btn-round btn-primary",attrs:{type:"submit"},on:{click:function(a){return t.submitFile()}}},[t._v("\n            Import\n          ")]),t._v(" "),n("button",{staticClass:"btn btn-sm btn-round btn-warning",attrs:{type:"button"},on:{click:function(a){return t.downloadSample()}}},[t._v("\n            Download Sample\n          ")])]),t._v(" "),n("div",{staticClass:"modal-footer"},[n("button",{staticClass:"btn btn-default",attrs:{type:"button","data-dismiss":"modal"}},[t._v("\n            Close\n          ")])])])])])],2)}),[],!1,null,null,null);a.default=l.exports}}]);
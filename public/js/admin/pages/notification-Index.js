(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{312:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),o=n(285);function s(t,e,n,a,r,o,s){try{var i=t[o](s),c=i.value}catch(t){return void n(t)}i.done?e(c):Promise.resolve(c).then(a,r)}var i={name:"NotificationIndex",data:function(){return{columns:["Image","Message","Date","Read?"],rows:{data:[],links:{},meta:{}},model:new o.a}},methods:{getNotifications:function(){var t,e=this;return(t=r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.model.getPaginatedListUncached();case 3:e.rows=t.sent,t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})),function(){var e=this,n=arguments;return new Promise((function(a,r){var o=t.apply(e,n);function i(t){s(o,a,r,i,c,"next",t)}function c(t){s(o,a,r,i,c,"throw",t)}i(void 0)}))})()},markAsRead:function(t){var e=this;this.model.isRead(t)||this.model.markAsRead(t).then((function(n){t.readAt=n,e.$router.push(e.model.getUrl(t))})).catch((function(t){return console.log(t)}))}},mounted:function(){this.getNotifications()}},c=n(1),l=Object(c.a)(i,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("app-card",{attrs:{title:"All <b>Notifications</b>","body-padding":"0"}},[n("app-table-sortable",{attrs:{title:"All Notifications",columns:t.columns,actions:!1,rows:t.rows},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[n("td",[n("img",{staticStyle:{width:"50px",height:"50px","border-radius":"50%"},attrs:{src:a.from.image}})]),t._v(" "),n("td",{style:t.model.isUnread(a)?"background: #e5e5ff":""},[n("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.markAsRead(a)}}},[t._v("\n          "+t._s(a.message)+" from "),n("b",[t._v(t._s(a.from.name))])])]),t._v(" "),n("td",[t._v("\n        "+t._s(a.createdAt)+"\n      ")]),t._v(" "),n("td",{attrs:{width:"160"}},[t.model.isRead(a)?n("span",{staticClass:"material-icons"},[t._v("done")]):n("span",{staticClass:"material-icons"},[t._v("clear")])])]}}])})],1)}),[],!1,null,null,null);e.default=l.exports}}]);
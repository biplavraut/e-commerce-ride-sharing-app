(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{290:function(t,s,e){var a={"./af":99,"./af.js":99,"./ar":100,"./ar-dz":101,"./ar-dz.js":101,"./ar-kw":102,"./ar-kw.js":102,"./ar-ly":103,"./ar-ly.js":103,"./ar-ma":104,"./ar-ma.js":104,"./ar-sa":105,"./ar-sa.js":105,"./ar-tn":106,"./ar-tn.js":106,"./ar.js":100,"./az":107,"./az.js":107,"./be":108,"./be.js":108,"./bg":109,"./bg.js":109,"./bm":110,"./bm.js":110,"./bn":111,"./bn.js":111,"./bo":112,"./bo.js":112,"./br":113,"./br.js":113,"./bs":114,"./bs.js":114,"./ca":115,"./ca.js":115,"./cs":116,"./cs.js":116,"./cv":117,"./cv.js":117,"./cy":118,"./cy.js":118,"./da":119,"./da.js":119,"./de":120,"./de-at":121,"./de-at.js":121,"./de-ch":122,"./de-ch.js":122,"./de.js":120,"./dv":123,"./dv.js":123,"./el":124,"./el.js":124,"./en-SG":125,"./en-SG.js":125,"./en-au":126,"./en-au.js":126,"./en-ca":127,"./en-ca.js":127,"./en-gb":128,"./en-gb.js":128,"./en-ie":129,"./en-ie.js":129,"./en-il":130,"./en-il.js":130,"./en-nz":131,"./en-nz.js":131,"./eo":132,"./eo.js":132,"./es":133,"./es-do":134,"./es-do.js":134,"./es-us":135,"./es-us.js":135,"./es.js":133,"./et":136,"./et.js":136,"./eu":137,"./eu.js":137,"./fa":138,"./fa.js":138,"./fi":139,"./fi.js":139,"./fo":140,"./fo.js":140,"./fr":141,"./fr-ca":142,"./fr-ca.js":142,"./fr-ch":143,"./fr-ch.js":143,"./fr.js":141,"./fy":144,"./fy.js":144,"./ga":145,"./ga.js":145,"./gd":146,"./gd.js":146,"./gl":147,"./gl.js":147,"./gom-latn":148,"./gom-latn.js":148,"./gu":149,"./gu.js":149,"./he":150,"./he.js":150,"./hi":151,"./hi.js":151,"./hr":152,"./hr.js":152,"./hu":153,"./hu.js":153,"./hy-am":154,"./hy-am.js":154,"./id":155,"./id.js":155,"./is":156,"./is.js":156,"./it":157,"./it-ch":158,"./it-ch.js":158,"./it.js":157,"./ja":159,"./ja.js":159,"./jv":160,"./jv.js":160,"./ka":161,"./ka.js":161,"./kk":162,"./kk.js":162,"./km":163,"./km.js":163,"./kn":164,"./kn.js":164,"./ko":165,"./ko.js":165,"./ku":166,"./ku.js":166,"./ky":167,"./ky.js":167,"./lb":168,"./lb.js":168,"./lo":169,"./lo.js":169,"./lt":170,"./lt.js":170,"./lv":171,"./lv.js":171,"./me":172,"./me.js":172,"./mi":173,"./mi.js":173,"./mk":174,"./mk.js":174,"./ml":175,"./ml.js":175,"./mn":176,"./mn.js":176,"./mr":177,"./mr.js":177,"./ms":178,"./ms-my":179,"./ms-my.js":179,"./ms.js":178,"./mt":180,"./mt.js":180,"./my":181,"./my.js":181,"./nb":182,"./nb.js":182,"./ne":183,"./ne.js":183,"./nl":184,"./nl-be":185,"./nl-be.js":185,"./nl.js":184,"./nn":186,"./nn.js":186,"./pa-in":187,"./pa-in.js":187,"./pl":188,"./pl.js":188,"./pt":189,"./pt-br":190,"./pt-br.js":190,"./pt.js":189,"./ro":191,"./ro.js":191,"./ru":192,"./ru.js":192,"./sd":193,"./sd.js":193,"./se":194,"./se.js":194,"./si":195,"./si.js":195,"./sk":196,"./sk.js":196,"./sl":197,"./sl.js":197,"./sq":198,"./sq.js":198,"./sr":199,"./sr-cyrl":200,"./sr-cyrl.js":200,"./sr.js":199,"./ss":201,"./ss.js":201,"./sv":202,"./sv.js":202,"./sw":203,"./sw.js":203,"./ta":204,"./ta.js":204,"./te":205,"./te.js":205,"./tet":206,"./tet.js":206,"./tg":207,"./tg.js":207,"./th":208,"./th.js":208,"./tl-ph":209,"./tl-ph.js":209,"./tlh":210,"./tlh.js":210,"./tr":211,"./tr.js":211,"./tzl":212,"./tzl.js":212,"./tzm":213,"./tzm-latn":214,"./tzm-latn.js":214,"./tzm.js":213,"./ug-cn":215,"./ug-cn.js":215,"./uk":216,"./uk.js":216,"./ur":217,"./ur.js":217,"./uz":218,"./uz-latn":219,"./uz-latn.js":219,"./uz.js":218,"./vi":220,"./vi.js":220,"./x-pseudo":221,"./x-pseudo.js":221,"./yo":222,"./yo.js":222,"./zh-cn":223,"./zh-cn.js":223,"./zh-hk":224,"./zh-hk.js":224,"./zh-tw":225,"./zh-tw.js":225};function n(t){var s=r(t);return e(s)}function r(t){if(!e.o(a,t)){var s=new Error("Cannot find module '"+t+"'");throw s.code="MODULE_NOT_FOUND",s}return a[t]}n.keys=function(){return Object.keys(a)},n.resolve=r,t.exports=n,n.id=290},308:function(t,s,e){"use strict";e.r(s);var a=e(6),n=e(5);function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,s){return(i=Object.setPrototypeOf||function(t,s){return t.__proto__=s,t})(t,s)}function o(t){var s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var e,a=c(t);if(s){var n=c(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return l(this,e)}}function l(t,s){return!s||"object"!==r(s)&&"function"!=typeof s?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):s}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var u=function(t){!function(t,s){if("function"!=typeof s&&null!==s)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(s&&s.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),s&&i(t,s)}(e,t);var s=o(e);function e(t){var a;return function(t,s){if(!(t instanceof s))throw new TypeError("Cannot call a class as a function")}(this,e),(a=s.call(this,t)).indexUrl=n.Q,a.namePlural="prescription-requests",a.nameLowerCase="prescription-request",a}return e}(a.a),d=e(2),p=e.n(d),m=e(4),f=e(10),v=e(12),g=e.n(v);function b(t,s){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);s&&(a=a.filter((function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable}))),e.push.apply(e,a)}return e}function h(t,s,e){return s in t?Object.defineProperty(t,s,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[s]=e,t}var j={name:"PrescriptionRequestIndex",mixins:[m.b,m.a],data:function(){return{rows:{data:[],links:{},meta:{}},columns:["","User","Hospital","Delivery Area","Location","Total","User Additional Detail","Remarks by gogo20","Submitted On","Assigned Driver","Assigned Support"],model:new u,supportData:{pharmacists:null,assignedPharmacist:"",prescriptionId:""},assignType:"",modelText:"",bills:[]}},methods:{formatDate:function(t){return p()(t).format("LL")},viewText:function(t,s){swal(t,s)},showBillDetail:function(t){this.bills=t.bills,$("#billDetail").modal("show")},updateStatus:function(t,s){var e=this;confirm("Are you sure? You cannot undo this action.")&&g.a.get(this.model.indexUrl+"/update-status?formId="+t.id+"&status="+s).then((function(t){"success"==t.data.message?(e.reset(),alertMessage("Prescription request has been set to "+s+".")):alertMessage("Somethign went wrong.","danger")}))},getSupports:function(t){var s=this;this.supportData.prescriptionId=t,g.a.get("/admin/get-support/").then((function(t){null!=t.data?(s.supportData.pharmacists=t.data,s.assignType="admin",s.modelText="Assign Support for this prescription",$("#assignSupport").modal("show")):alertMessage("Unable to retrive pharmacists support","danger")}))},getRiders:function(t){var s=this;this.supportData.prescriptionId=t,g.a.get("/admin/get-rider/").then((function(t){null!=t.data?(s.supportData.pharmacists=t.data,s.assignType="driver",s.modelText="Assign Delivery for this prescription",$("#assignSupport").modal("show")):alertMessage("Unable to retrive driver","danger")}))},assignPrescriptionForCart:function(){var t=this;g.a.post("/admin/assign-prescription",{prescriptionId:this.supportData.prescriptionId,adminId:this.supportData.assignedPharmacist,type:this.assignType}).then((function(s){!0===s.data.status?(alertMessage(s.data.message),$("#assignSupport").modal("hide"),t.reset()):alertMessage("Something went wrong while processing","danger")})).catch((function(t){alertMessage("Something went wrong while processing","danger")}))},addRemark:function(t){var s=this;confirm("Are you sure? Changes will reflect in App.")&&swal({text:"Remark",content:"input",button:{text:"Submit!",closeModal:!1}}).then((function(e){if(!e||e.length<5)return swal("Oh noes!","Write complete reason!","error");g.a.post("/admin/remark-prescription",{prescriptionId:t,remarks:e}).then((function(t){"success"==t.data?(s.reset(),alertMessage("Remarks Added")):0==t.data?alertMessage("Something Went Wrong. Remarks not added.","danger"):alertMessage(t.data,"danger")})),swal.stopLoading(),swal.close()}))},reset:function(){var t=this;g.a.get("/admin/prescription-request").then((function(s){t.rows.data=s.data.data,t.rows.meta=s.data.meta,t.rows.links=s.data.links}))}},created:function(){this.getModels()},mounted:function(){},computed:function(t){for(var s=1;s<arguments.length;s++){var e=null!=arguments[s]?arguments[s]:{};s%2?b(Object(e),!0).forEach((function(s){h(t,s,e[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):b(Object(e)).forEach((function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(e,s))}))}return t}({},Object(f.mapGetters)(["authUser"])),watch:{}},_=(e(610),e(1)),y=Object(_.a)(j,(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("app-card",{attrs:{title:" <b>Prescribed Medicine Requests</b>","body-padding":"0"}},[e("app-table-sortable",{attrs:{columns:t.columns,rows:t.rows,paginate:!0},scopedSlots:t._u([{key:"default",fn:function(s){var a=s.row;return[e("td",t._l(a.images,(function(t){return e("span",{key:t.image},[e("a",{attrs:{href:t.image,target:"_blank"}},[e("img",{staticStyle:{width:"50px",height:"50px","border-radius":"50%"},attrs:{src:t.image}})])])})),0),t._v(" "),e("td",[t._v("\n        "+t._s(a.user.firstName)+" "+t._s(a.user.lastName)+" "),e("br"),t._v(" "),e("small",[t._v(t._s(a.user.phone))]),t._v(" "),e("span",{staticClass:"badge",style:{background:a.dynamicColor}},[t._v(t._s(a.status))])]),t._v(" "),null!=a.hospital?e("td",[t._v("\n        "+t._s(null!=a.hospital?a.hospital.title:"")+" "),e("br"),t._v(" "),e("small",[t._v("Vendors:")]),t._v(" "),null!=a.hospital.vendors?e("div",t._l(a.hospital.vendors,(function(s){return e("span",{key:s.id},[e("span",{staticClass:"badge"},[t._v(" "+t._s(s.name)+" ")])])})),0):t._e()]):e("td",[t._v("-")]),t._v(" "),e("td",[t._v("\n        "+t._s(a.deliveryArea)),e("br"),t._v("\n        Rs "+t._s(a.shippingFee)+"\n      ")]),t._v(" "),e("td",[e("a",{attrs:{href:"/getLocation?lat="+a.latitude+"&lang="+a.longitude,target:"_blank",title:"View on map: "+a.address}},[t._v(t._s(null!=a.address?a.address.substring(0,40):""))])]),t._v(" "),e("td",[t._v("Rs. "+t._s(t._f("commaNumberFormat")(a.total)))]),t._v(" "),e("td",[e("span",{on:{click:function(s){return t.viewText("Additional Detail",a.additionalDetail)}}},[t._v("\n          "+t._s(null!=a.additionalDetail?a.additionalDetail.substring(0,40):"")+"\n        ")])]),t._v(" "),e("td",[e("span",{on:{click:function(s){return t.viewText("Remarks",a.remarks)}}},[t._v("\n          "+t._s(null!=a.remarks?a.remarks.substring(0,40):"")+"\n        ")]),t._v(" "),e("a",{attrs:{href:"#"},on:{click:function(s){return t.addRemark(a.id)}}},[e("span",{staticClass:"badge"},[t._v(" Add ")])])]),t._v(" "),e("td",[t._v("\n        "+t._s(a.createdAt)+"\n      ")]),t._v(" "),e("td",[t._v("\n        "+t._s(null!=a.driver?a.driver.name+" "+a.driver.phone:"-")+"\n      ")]),t._v(" "),e("td",[t._v("\n        "+t._s(null!=a.admin?a.admin.name+" "+a.admin.phone:"-")+"\n      ")]),t._v(" "),e("td",{attrs:{width:"100"}},["REQUESTED"==a.status||"PROCESSING"==a.status||"NOT-FOUND"==a.status?e("button",{staticClass:"btn btn-success btn-ajax",attrs:{type:"button",title:"Assign Rider"},on:{click:function(s){return t.getRiders(a.id)}}},[e("i",{staticClass:"material-icons"},[t._v("event_seat")]),t._v(" "),e("div",{staticClass:"ripple-container"})]):t._e(),t._v(" "),"SUCCESS"!==a.status&&"COLLECTED"===a.status?e("button",{staticClass:"btn btn-success btn-ajax",attrs:{type:"button",title:"Mark as Success",status:a.status},on:{click:function(s){return s.preventDefault(),t.updateStatus(a,"success")}}},[e("i",{staticClass:"material-icons"},[t._v("done")]),t._v(" "),e("div",{staticClass:"ripple-container"})]):e("button",{staticClass:"btn btn-success btn-ajax",attrs:{title:"Active only when delivered and collected.",type:"button",disabled:""}},[e("i",{staticClass:"material-icons"},[t._v("done")]),t._v(" "),e("div",{staticClass:"ripple-container"})]),t._v(" "),"CANCELLED"!==a.status&&"SUCCESS"!==a.status&&"COLLECTED"!==a.status&&"DENIED"!==a.status?e("button",{staticClass:"btn btn-danger btn-ajax",attrs:{type:"button",title:"Mark as Cancelled",status:a.status},on:{click:function(s){return s.preventDefault(),t.updateStatus(a,"cancelled")}}},[e("i",{staticClass:"material-icons"},[t._v("close")]),t._v(" "),e("div",{staticClass:"ripple-container"})]):e("button",{staticClass:"btn btn-danger btn-ajax",attrs:{type:"button",disabled:""}},[e("i",{staticClass:"material-icons"},[t._v("close")]),t._v(" "),e("div",{staticClass:"ripple-container"})]),t._v(" "),a.bills.length>0?e("button",{staticClass:"btn btn-success btn-xs",on:{click:function(s){return t.showBillDetail(a)}}},[t._v("\n          Show Bill\n          "),e("div",{staticClass:"ripple-container"})]):t._e()])]}}])}),t._v(" "),e("div",{staticClass:"modal fade",attrs:{id:"assignSupport",role:"dialog"}},[e("div",{staticClass:"modal-dialog"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal"}},[t._v("\n            ×\n          ")]),t._v(" "),e("h4",{staticClass:"modal-title"},[t._v(t._s(t.modelText))])]),t._v(" "),e("div",{staticClass:"modal-body"},[e("form",{on:{submit:function(s){return s.preventDefault(),t.assignPrescriptionForCart(s)}}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[t.supportData.pharmacists?e("div",{staticClass:"form-group"},[e("div",{staticClass:"list-group"},t._l(t.supportData.pharmacists.data,(function(s,a){return e("div",{key:a,attrs:{value:s.id}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.supportData.assignedPharmacist,expression:"supportData.assignedPharmacist"}],attrs:{type:"radio",name:"selectrider",id:s.id},domProps:{value:s.id,checked:t._q(t.supportData.assignedPharmacist,s.id)},on:{change:function(e){return t.$set(t.supportData,"assignedPharmacist",s.id)}}}),t._v(" "),e("label",{staticClass:"list-group-item",attrs:{for:s.id}},[t._v(t._s(s.name)+":"+t._s(s.phone)+"\n                        | Junction:\n                        "),e("b",[t._v(t._s(s.junction))])])])})),0)]):t._e()]),t._v(" "),e("div",{staticClass:"col-md-offset-9 col-md-3"},[t.supportData.assignedPharmacist?e("button",{staticClass:"btn btn-success",staticStyle:{"margin-top":"20%"},attrs:{type:"submit",disabled:t.errors.any()}},[t._v("\n                  Assign\n                ")]):t._e()])])])])])])]),t._v(" "),e("div",{staticClass:"modal fade",attrs:{id:"billDetail",role:"dialog"}},[e("div",{staticClass:"modal-dialog"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal"}},[t._v("\n            ×\n          ")]),t._v(" "),e("h4",{staticClass:"modal-title"},[t._v("Bill Detail")])]),t._v(" "),e("div",{staticClass:"modal-body"},[e("table",{staticClass:"table"},[e("thead",[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("#")]),t._v(" "),e("th",{attrs:{scope:"col"}},[t._v("Bill")]),t._v(" "),e("th",{attrs:{scope:"col"}},[t._v("Type")]),t._v(" "),e("th",{attrs:{scope:"col"}},[t._v("Vendor")]),t._v(" "),e("th",{attrs:{scope:"col"}},[t._v("Bill Amount")])])]),t._v(" "),e("tbody",t._l(t.bills,(function(s,a){return e("tr",{key:s.id},[e("th",{attrs:{scope:"row"}},[t._v(t._s(a+1))]),t._v(" "),e("td",[e("a",{attrs:{href:s.image,target:"_blank"}},[e("img",{staticStyle:{width:"50px",height:"50px","border-radius":"50%"},attrs:{src:s.image}})])]),t._v(" "),e("td",[t._v(t._s(s.type))]),t._v(" "),e("td",[t._v("\n                  "+t._s("vendor"==s.type?s.vendor.businessName:s.otherVendor)+"\n                ")]),t._v(" "),e("td",[t._v(t._s(s.billAmount))])])})),0)])])])])])],1)}),[],!1,null,"4f640f95",null);s.default=y.exports},534:function(t,s,e){var a=e(611);"string"==typeof a&&(a=[[t.i,a,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};e(9)(a,n);a.locals&&(t.exports=a.locals)},610:function(t,s,e){"use strict";var a=e(534);e.n(a).a},611:function(t,s,e){(t.exports=e(8)(!1)).push([t.i,'\n.cursor[data-v-4f640f95] {\n  cursor: pointer;\n}\n.title-right-action1[data-v-4f640f95] {\n  right: 15px;\n  top: 6px;\n  float: right;\n  margin-left: 10px;\n}\n.list-group-item[data-v-4f640f95] {\n  user-select: none;\n  margin-bottom: 2px;\n}\n.list-group input[type="checkbox"][data-v-4f640f95] {\n  display: none;\n}\n.list-group input[type="checkbox"] + .list-group-item[data-v-4f640f95] {\n  cursor: pointer;\n}\n.list-group input[type="checkbox"] + .list-group-item[data-v-4f640f95]:before {\n  content: "\\2713";\n  color: transparent;\n  font-weight: bold;\n  margin-right: 1em;\n}\n.list-group input[type="checkbox"]:checked + .list-group-item[data-v-4f640f95] {\n  background-color: #022584;\n  color: #fff;\n}\n.list-group input[type="checkbox"]:checked + .list-group-item[data-v-4f640f95]:before {\n  color: inherit;\n}\n.list-group input[type="radio"][data-v-4f640f95] {\n  display: none;\n}\n.list-group input[type="radio"] + .list-group-item[data-v-4f640f95] {\n  cursor: pointer;\n}\n.list-group input[type="radio"] + .list-group-item[data-v-4f640f95]:before {\n  content: "\\2022";\n  color: transparent;\n  font-weight: bold;\n  margin-right: 1em;\n}\n.list-group input[type="radio"]:checked + .list-group-item[data-v-4f640f95] {\n  background-color: #0275d8;\n  color: #fff;\n}\n.list-group input[type="radio"]:checked + .list-group-item[data-v-4f640f95]:before {\n  color: inherit;\n}\n.btn[data-v-4f640f95] {\n  margin-bottom: 3px;\n}\n',""])}}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{316:function(t,e,r){"use strict";r.r(e);var a=r(497),i=r(10),s=r(5);function n(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function o(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var l={name:"ReportIndex",data:function(){return{quickLinks:[],webDataCounts:[],model:new a.a,from:"",to:"",filter_from:"",filter_to:"",filter:"today",user_pie_data:[],revenueData:[],tripsData:[],backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],trendingProductsData:[]}},methods:{filterData:function(t){this.from="",this.to="",this.filter=t,this.loadData()},userDoughnutData:function(){$("#registeredTypeChart").remove(),$("#registered-doughnut-container").append('<canvas id="registeredTypeChart" width="100" height="100"><canvas>');var t=document.getElementById("registeredTypeChart");new Chart(t,{type:"doughnut",data:{labels:["App User","Vendors","Drivers"],datasets:[{label:this.filter,data:this.user_pie_data,backgroundColor:this.backgroundColor,borderColor:this.borderColor,borderWidth:1}]},options:{responsive:!0,plugins:{legend:{position:"bottom"},title:{display:!1,text:this.filter.replace(/-/g," ")}}}})},revenueBarData:function(){$("#revenueChart").remove(),$("#revenue-bar-container").append('<canvas id="revenueChart" width="100" height="100"><canvas>');var t=document.getElementById("revenueChart");new Chart(t,{type:"bar",data:{labels:["Orders","Trips"],datasets:[{label:this.filter.replace(/-/g," "),data:this.revenueData,backgroundColor:this.backgroundColor,borderColor:this.borderColor,borderWidth:1}]},options:{responsive:!0,plugins:{legend:{position:"bottom"},title:{display:!1}}}})},tripsRaderData:function(){$("#tripsChart").remove(),$("#trips-radar-container").append('<canvas id="tripsChart" width="100" height="100"><canvas>');var t=document.getElementById("tripsChart");new Chart(t,{type:"radar",data:{labels:["Completed","Ongoing","Accident","Dispute"],datasets:[{label:this.filter.replace(/-/g," "),data:this.tripsData,backgroundColor:this.backgroundColor,borderColor:this.borderColor,borderWidth:1}]},options:{responsive:!0,plugins:{legend:{position:"bottom"},title:{display:!1}}}})},trendingProductsDataTable:function(){$.fn.DataTable.isDataTable("#trendingProductsTable")&&$("#trendingProductsTable").DataTable().destroy(),$("#trendingProductsTable").DataTable({buttons:!1,paging:!1,searching:!1,data:this.trendingProductsData,columns:[{data:"name"},{data:"vendor"},{data:"totalQty"},{data:"productPrice"},{data:"avgSellPrice"},{data:"totalRev"}]})},reloadCounts:function(t){t.target.classList.add("fa-spin"),location.href=s.X},listItems:function(){this.quickLinks=[{name:"App Users",title:this.webDataCounts.users,url:{name:"app-users-report.index",params:{filter:this.filter}}},{name:"Vendors",title:this.webDataCounts.vendors,url:{name:"vendors-report.index",params:{filter:this.filter}}},{name:"Drivers",title:this.webDataCounts.drivers,url:{name:"drivers-report.index",params:{filter:this.filter}}},{name:"Orders",title:this.webDataCounts.orders,url:{name:"orders-report.index",params:{filter:this.filter}}},{name:"Trips Completed",title:this.webDataCounts.trips_completed,url:{name:"trips-report.index",params:{filter:this.filter}}}]},checkDate:function(){var t=this;if(""!=this.from&&""!=this.to){this.filter="custom",this.filter_from=this.from,this.filter_to=this.to;axios.get(this.model.indexUrl+"/report-dashboard?q=custom&from="+this.from+"&to="+this.to).then((function(e){t.webDataCounts=e.data.data,t.user_pie_data=[t.webDataCounts.users,t.webDataCounts.vendors,t.webDataCounts.drivers],t.revenueData=[t.webDataCounts.order_revenue/100,t.webDataCounts.trip_revenue],t.tripsData=t.webDataCounts.trips,t.trendingProductsData=t.webDataCounts.trending_products,t.userDoughnutData(),t.revenueBarData(),t.tripsRaderData(),t.trendingProductsDataTable(),t.listItems()}))}},loadData:function(){var t=this,e=this.filter;axios.get(this.model.indexUrl+"/report-dashboard?q="+e).then((function(e){t.webDataCounts=e.data.data,t.user_pie_data=[t.webDataCounts.users,t.webDataCounts.vendors,t.webDataCounts.drivers],t.revenueData=[t.webDataCounts.order_revenue/100,t.webDataCounts.trip_revenue],t.tripsData=t.webDataCounts.trips,t.trendingProductsData=t.webDataCounts.trending_products,t.userDoughnutData(),t.revenueBarData(),t.tripsRaderData(),t.trendingProductsDataTable(),t.listItems()}))}},computed:function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?n(Object(r),!0).forEach((function(e){o(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},Object(i.mapGetters)(["homePageCounts","authUser"])),mounted:function(){this.$route.params[0]&&alertMessage("404, Page not found !!!","danger")},created:function(){this.loadData()}},u=r(1),c=Object(u.a)(l,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticStyle:{"margin-bottom":"10px",display:"flex"}},[r("ul",{staticClass:"nav nav-pills nav-pills-warning"},[r("li",{class:"today"===t.filter?"active":"nav-item"},[r("a",{staticClass:"nav-link",attrs:{href:"#"},on:{click:function(e){return t.filterData("today")}}},[t._v("Today ")])]),t._v(" "),r("li",{class:"yesterday"===t.filter?"active":"nav-item"},[r("a",{staticClass:"nav-link",attrs:{href:"#"},on:{click:function(e){return t.filterData("yesterday")}}},[t._v("Yesterday ")])]),t._v(" "),r("li",{class:"this-week"===t.filter?"active":"nav-item"},[r("a",{staticClass:"nav-link",attrs:{href:"#"},on:{click:function(e){return t.filterData("this-week")}}},[t._v("This Week ")])]),t._v(" "),r("li",{class:"this-month"===t.filter?"active":"nav-item"},[r("a",{attrs:{"aria-current":"true",href:"#"},on:{click:function(e){return t.filterData("this-month")}}},[t._v("This Month ")])]),t._v(" "),r("li",{class:"custom"===t.filter?"active":"nav-item"},[r("a",{attrs:{"aria-current":"true",href:"#","aria-disabled":"disabled",title:"Please Select Date"}},[t._v("Custom ")])])]),t._v(" "),r("div",{staticClass:"input-group"},[t._m(0),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.from,expression:"from"}],staticClass:"form-control",attrs:{type:"date",id:"datetimepicker6","aria-describedby":"basic-addon1"},domProps:{value:t.from},on:{input:[function(e){e.target.composing||(t.from=e.target.value)},t.checkDate]}})]),t._v(" "),r("div",{staticClass:"input-group"},[t._m(1),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.to,expression:"to"}],staticClass:"form-control",attrs:{type:"date",id:"datetimepicker7","aria-describedby":"basic-addon2"},domProps:{value:t.to},on:{input:[function(e){e.target.composing||(t.to=e.target.value)},t.checkDate]}})])]),t._v(" "),r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-9"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-4"},["support"!==t.authUser.type&&"officer"!==t.authUser.type?r("app-card",{attrs:{title:"Registered ",width:"400",height:"400"}},[r("div",{attrs:{id:"registered-doughnut-container"}},[r("canvas",{attrs:{id:"registeredTypeChart"}})])]):t._e()],1),t._v(" "),r("div",{staticClass:"col-md-4"},["support"!==t.authUser.type&&"officer"!==t.authUser.type?r("app-card",{attrs:{title:"Revenue"}},[r("div",{attrs:{id:"revenue-bar-container"}},[r("canvas",{attrs:{id:"revenueChart"}})])]):t._e()],1),t._v(" "),r("div",{staticClass:"col-md-4"},["support"!==t.authUser.type&&"officer"!==t.authUser.type?r("app-card",{attrs:{title:"Trips"}},[r("div",{attrs:{id:"trips-radar-container"}},[r("canvas",{attrs:{id:"tripsChart"}})])]):t._e()],1)])]),t._v(" "),r("div",{staticClass:"col-md-3"},["support"!==t.authUser.type&&"officer"!==t.authUser.type?r("app-card",{attrs:{title:"Quick Links"}},[r("ul",{staticClass:"list-group-flush list-group"},t._l(t.quickLinks,(function(e){return r("li",{key:e.name,staticClass:"list-group-item d-flex justify-content-between align-items-center list-group-item-action",attrs:{waves:""}},[r("router-link",{attrs:{to:e.url}},[t._v("\n                "+t._s(e.name)+"  \n              ")]),t._v(" "),r("span",{staticClass:"pull-right badge success-color badge-pill"},[t._v("\n              "+t._s(e.title)+"\n            ")])],1)})),0)]):t._e()],1)]),t._v(" "),r("hr"),t._v(" "),r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-9"},["support"!==t.authUser.type&&"officer"!==t.authUser.type?r("app-card",{attrs:{title:"Top 5 Trending Products"}},[r("div",{staticClass:"table-responsive"},[r("table",{staticClass:"table table-hover table-striped table-bordered table-lg",attrs:{id:"trendingProductsTable",width:"100%"}},[r("thead",[r("tr",[r("th",[t._v("Title")]),t._v(" "),r("th",[t._v("Vendor")]),t._v(" "),r("th",[t._v("Sales Qty")]),t._v(" "),r("th",[t._v("Unit Price")]),t._v(" "),r("th",[t._v("Selling Price")]),t._v(" "),r("th",[t._v("Revenue")])])])])])]):t._e()],1),t._v(" "),r("div",{staticClass:"col-md-3"})])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"input-group-addon",attrs:{id:"date-addon1"}},[e("strong",[this._v("From")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"input-group-addon",attrs:{id:"date-addon2"}},[e("strong",[this._v("To")])])}],!1,null,null,null);e.default=c.exports},497:function(t,e,r){"use strict";r.d(e,"a",(function(){return c}));var a=r(6),i=r(5);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,e){return(n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function o(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,a=u(t);if(e){var i=u(this).constructor;r=Reflect.construct(a,arguments,i)}else r=a.apply(this,arguments);return l(this,r)}}function l(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var c=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&n(t,e)}(r,t);var e=o(r);function r(t){var a;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(a=e.call(this,t)).indexUrl=i.X,a.namePlural="reports",a.nameLowerCase="report",a}return r}(a.a)}}]);
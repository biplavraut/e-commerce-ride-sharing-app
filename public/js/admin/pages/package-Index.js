(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{290:function(t,s,e){var n={"./af":99,"./af.js":99,"./ar":100,"./ar-dz":101,"./ar-dz.js":101,"./ar-kw":102,"./ar-kw.js":102,"./ar-ly":103,"./ar-ly.js":103,"./ar-ma":104,"./ar-ma.js":104,"./ar-sa":105,"./ar-sa.js":105,"./ar-tn":106,"./ar-tn.js":106,"./ar.js":100,"./az":107,"./az.js":107,"./be":108,"./be.js":108,"./bg":109,"./bg.js":109,"./bm":110,"./bm.js":110,"./bn":111,"./bn.js":111,"./bo":112,"./bo.js":112,"./br":113,"./br.js":113,"./bs":114,"./bs.js":114,"./ca":115,"./ca.js":115,"./cs":116,"./cs.js":116,"./cv":117,"./cv.js":117,"./cy":118,"./cy.js":118,"./da":119,"./da.js":119,"./de":120,"./de-at":121,"./de-at.js":121,"./de-ch":122,"./de-ch.js":122,"./de.js":120,"./dv":123,"./dv.js":123,"./el":124,"./el.js":124,"./en-SG":125,"./en-SG.js":125,"./en-au":126,"./en-au.js":126,"./en-ca":127,"./en-ca.js":127,"./en-gb":128,"./en-gb.js":128,"./en-ie":129,"./en-ie.js":129,"./en-il":130,"./en-il.js":130,"./en-nz":131,"./en-nz.js":131,"./eo":132,"./eo.js":132,"./es":133,"./es-do":134,"./es-do.js":134,"./es-us":135,"./es-us.js":135,"./es.js":133,"./et":136,"./et.js":136,"./eu":137,"./eu.js":137,"./fa":138,"./fa.js":138,"./fi":139,"./fi.js":139,"./fo":140,"./fo.js":140,"./fr":141,"./fr-ca":142,"./fr-ca.js":142,"./fr-ch":143,"./fr-ch.js":143,"./fr.js":141,"./fy":144,"./fy.js":144,"./ga":145,"./ga.js":145,"./gd":146,"./gd.js":146,"./gl":147,"./gl.js":147,"./gom-latn":148,"./gom-latn.js":148,"./gu":149,"./gu.js":149,"./he":150,"./he.js":150,"./hi":151,"./hi.js":151,"./hr":152,"./hr.js":152,"./hu":153,"./hu.js":153,"./hy-am":154,"./hy-am.js":154,"./id":155,"./id.js":155,"./is":156,"./is.js":156,"./it":157,"./it-ch":158,"./it-ch.js":158,"./it.js":157,"./ja":159,"./ja.js":159,"./jv":160,"./jv.js":160,"./ka":161,"./ka.js":161,"./kk":162,"./kk.js":162,"./km":163,"./km.js":163,"./kn":164,"./kn.js":164,"./ko":165,"./ko.js":165,"./ku":166,"./ku.js":166,"./ky":167,"./ky.js":167,"./lb":168,"./lb.js":168,"./lo":169,"./lo.js":169,"./lt":170,"./lt.js":170,"./lv":171,"./lv.js":171,"./me":172,"./me.js":172,"./mi":173,"./mi.js":173,"./mk":174,"./mk.js":174,"./ml":175,"./ml.js":175,"./mn":176,"./mn.js":176,"./mr":177,"./mr.js":177,"./ms":178,"./ms-my":179,"./ms-my.js":179,"./ms.js":178,"./mt":180,"./mt.js":180,"./my":181,"./my.js":181,"./nb":182,"./nb.js":182,"./ne":183,"./ne.js":183,"./nl":184,"./nl-be":185,"./nl-be.js":185,"./nl.js":184,"./nn":186,"./nn.js":186,"./pa-in":187,"./pa-in.js":187,"./pl":188,"./pl.js":188,"./pt":189,"./pt-br":190,"./pt-br.js":190,"./pt.js":189,"./ro":191,"./ro.js":191,"./ru":192,"./ru.js":192,"./sd":193,"./sd.js":193,"./se":194,"./se.js":194,"./si":195,"./si.js":195,"./sk":196,"./sk.js":196,"./sl":197,"./sl.js":197,"./sq":198,"./sq.js":198,"./sr":199,"./sr-cyrl":200,"./sr-cyrl.js":200,"./sr.js":199,"./ss":201,"./ss.js":201,"./sv":202,"./sv.js":202,"./sw":203,"./sw.js":203,"./ta":204,"./ta.js":204,"./te":205,"./te.js":205,"./tet":206,"./tet.js":206,"./tg":207,"./tg.js":207,"./th":208,"./th.js":208,"./tl-ph":209,"./tl-ph.js":209,"./tlh":210,"./tlh.js":210,"./tr":211,"./tr.js":211,"./tzl":212,"./tzl.js":212,"./tzm":213,"./tzm-latn":214,"./tzm-latn.js":214,"./tzm.js":213,"./ug-cn":215,"./ug-cn.js":215,"./uk":216,"./uk.js":216,"./ur":217,"./ur.js":217,"./uz":218,"./uz-latn":219,"./uz-latn.js":219,"./uz.js":218,"./vi":220,"./vi.js":220,"./x-pseudo":221,"./x-pseudo.js":221,"./yo":222,"./yo.js":222,"./zh-cn":223,"./zh-cn.js":223,"./zh-hk":224,"./zh-hk.js":224,"./zh-tw":225,"./zh-tw.js":225};function a(t){var s=r(t);return e(s)}function r(t){if(!e.o(n,t)){var s=new Error("Cannot find module '"+t+"'");throw s.code="MODULE_NOT_FOUND",s}return n[t]}a.keys=function(){return Object.keys(n)},a.resolve=r,t.exports=a,a.id=290},341:function(t,s,e){"use strict";e.r(s);var n=e(268),a=e(2),r=e.n(a),i=e(4),o=e(10);function c(t,s){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);s&&(n=n.filter((function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable}))),e.push.apply(e,n)}return e}function l(t,s,e){return s in t?Object.defineProperty(t,s,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[s]=e,t}var u={name:"PackageIndex",mixins:[i.b,i.a],data:function(){return{columns:["Name","2-Wheeler","4-Wheeler","Subscribed Riders","Hidden","Added On"],rows:{data:[],links:{},meta:{}},model:new n.a,packageList:[],currentSubscription:"",toSubscription:""}},methods:{formatDate:function(t){return r()(t).format("LLLL")},setSubscriptionData:function(t,s){this.currentSubscription=t;var e=$("#changeSubscription").modal(),n="Swithc Riders: From "+s.toUpperCase();e.find(".modal-title").text(n),e.show()},getSubscriptionList:function(){var t=this;axios.get("/admin/driver/subscription-list").then((function(s){t.packageList=s.data.data}))},changeSubscription:function(){var t=this;this.currentSubscription!=this.toSubscription?swal({title:"Are you sure?",text:"Once Changed, you will not be able to revert the process!",icon:"warning",buttons:["Cancle!","Proceed!"],dangerMode:!0}).then((function(s){s&&(axios.post("/admin/driver/switch-subscription-type",{packageFrom:t.currentSubscription,packageTo:t.toSubscription}).then((function(s){"success"==s.data?(alertMessage("Subscription type successfully changed."),$("#changeSubscription").modal("hide"),t.reset()):alertMessage("Something went wrong while processing","danger")})).catch((function(t){alertMessage("Something went wrong while processing","danger")})),t.reset())})):swal("No Changes to proceed.")},reset:function(){var t=this;axios.get(this.model.indexUrl).then((function(s){t.rows=s.data,t.currentSubscription="",t.toSubscription=""}))}},mounted:function(){this.getModels(),this.getSubscriptionList()},computed:function(t){for(var s=1;s<arguments.length;s++){var e=null!=arguments[s]?arguments[s]:{};s%2?c(Object(e),!0).forEach((function(s){l(t,s,e[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):c(Object(e)).forEach((function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(e,s))}))}return t}({},Object(o.mapGetters)(["authUser"]))},d=e(1),j=Object(d.a)(u,(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("app-card",{attrs:{title:"All <b>Subscription Package</b>","body-padding":"0"}},[e("template",{slot:"actions"},[e("app-btn-link",{attrs:{"route-name":"package.create"}},[t._v("Add New")])],1),t._v(" "),e("app-table-sortable",{attrs:{columns:t.columns,rows:t.rows,searchUrl:"/admin/package/get-data?name=",paginate:!0,searchHolder:"Search (By Name) ......"},scopedSlots:t._u([{key:"default",fn:function(s){var n=s.row;return[e("td",[t._v(t._s(n.name))]),t._v(" "),e("td",[t._v("\n          "+t._s("amount"===n.type?"Rs. ":"")+t._s(n.twoWheelValue)+"\n          "+t._s("percent"===n.type?"%":"")+"\n        ")]),t._v(" "),e("td",[t._v("\n          "+t._s("amount"===n.type?"Rs. ":"")+t._s(n.fourWheelValue)+"\n          "+t._s("percent"===n.type?"%":"")+"\n        ")]),t._v(" "),e("td",[t._v(t._s(n.riderCount)+"\n          "),e("button",{staticClass:"btn btn-primary action-add btn-ajax btn-link",attrs:{type:"button",title:"Switch Subscription"},on:{click:function(s){return t.setSubscriptionData(n.id,n.name)}}},[t._v("Switch Rider")])]),t._v(" "),e("td",[e("span",{staticClass:"badge"},[t._v(t._s(n.hide))])]),t._v(" "),e("td",[t._v(t._s(t.formatDate(n.createdAt.date)))]),t._v(" "),"admin"===t.authUser.type||"superadmin"===t.authUser.type?e("td",{attrs:{width:"100"}},[e("app-actions",{attrs:{actions:{edit:{name:"package.edit",params:{id:n.id}},delete:n.id}},on:{deleteItem:t.deleteModel}})],1):e("td",[t._v("-")])]}}])})],2),t._v(" "),e("div",{staticClass:"modal fade",attrs:{id:"changeSubscription",role:"dialog"}},[e("div",{staticClass:"modal-dialog"},[e("div",{staticClass:"modal-content"},[t._m(0),t._v(" "),e("div",{staticClass:"modal-body"},[e("form",{on:{submit:function(s){return s.preventDefault(),t.changeSubscription(s)}}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"form-group asdh-select",attrs:{name:"role"}},[e("label",[t._v("Subscription Type")]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.toSubscription,expression:"toSubscription"}],staticClass:"form-control",on:{change:function(s){var e=Array.prototype.filter.call(s.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.toSubscription=s.target.multiple?e:e[0]}}},[e("option",{attrs:{value:"",disabled:""}},[t._v("Select Subscription Type")]),t._v(" "),t._l(t.packageList,(function(s,n){return e("option",{key:n,attrs:{"data-tokens":""},domProps:{value:s.id,selected:s.id==t.currentSubscription}},[t._v("\n                        "+t._s(s.name.toUpperCase())+"\n                      ")])}))],2)])]),t._v(" "),t._m(1)])])])])])])],1)}),[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"modal-header"},[s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal"}},[this._v("\n              Ã—\n            ")]),this._v(" "),s("h4",{staticClass:"modal-title"},[this._v("Change Subscription Type")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"col-md-offset-6 col-md-3"},[s("button",{staticClass:"btn btn-success",staticStyle:{"margin-top":"20%"},attrs:{type:"submit"}},[this._v("\n                    Change Subscription Type\n                  ")])])}],!1,null,"65bb3afa",null);s.default=j.exports}}]);
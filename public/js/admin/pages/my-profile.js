(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{649:function(e,a,t){"use strict";t.r(a);var r=t(20),s=t(5),i=t(3),o={name:"UserProfile",extends:r.a,data:function(){return{form:new i.a({name:"",email:"",image:"",password:"",passwordConfirmation:""})}},methods:{updateProfile:function(){var e=this;this.$validator.validate().then((function(a){a?e.form.post(s.kb).then((function(a){e.password=e.passwordConfirmation="",e.$store.commit("setAuthUser",a.data),alertMessage("Your profile is successfully changed.")})).catch((function(a){switch(a.status){case 422:e.form.errors.initialize(a.data.errors);break;default:alertMessage(a.data.message,"danger")}})):Helpers.focusFirstError(e.errors)}))}},created:function(){this.form.name=this.authUser.name,this.form.email=this.authUser.email}},n=t(1),l=Object(n.a)(o,(function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-offset-3 col-md-6"},[t("app-card",{attrs:{title:"Edit <b>Profile</b>"}},[t("form",{on:{submit:function(a){return a.preventDefault(),e.updateProfile(a)}}},[t("input-image",{attrs:{"image-url":e.authUser.image,width:"150",height:"150",label:" Image (max:1000X1000px)","error-text":e.errors.first("image")},model:{value:e.form.image,callback:function(a){e.$set(e.form,"image",a)},expression:"form.image"}}),e._v(" "),t("div",{staticClass:"text-center"},[e.form.errors.has("image")?t("small",{staticClass:"text-center text-danger"},[e._v(e._s(e.form.errors.get("image"))+"\n          ")]):e._e()]),e._v(" "),t("input-text",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:"Name",name:"name","error-text":e.errors.first("name"),required:""},model:{value:e.form.name,callback:function(a){e.$set(e.form,"name",a)},expression:"form.name"}}),e._v(" "),t("input-text",{directives:[{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],attrs:{label:"Email",type:"email",name:"email","error-text":e.errors.first("email"),required:""},model:{value:e.form.email,callback:function(a){e.$set(e.form,"email",a)},expression:"form.email"}}),e._v(" "),t("div",{staticClass:"text-right"},[t("button",{staticClass:"btn btn-success",attrs:{disabled:e.errors.any()}},[e._v("\n            Update\n          ")])])],1)])],1)])}),[],!1,null,null,null);a.default=l.exports}}]);